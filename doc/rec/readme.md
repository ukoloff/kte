# Алгоритм распознавания КТЭ

На основании геометрии детали
алгоритм разбивает её контур на отдельные
конструкторско-технологически элементы
(КТЭ),
отличающиеся:
- Стороной:
  + Левые
  + Правые
- Типом:
  + Открытые зоны
  + Полуоткрытые зоны
  + Закрытые зоны
- Расположением:
  + Внешние
  + Внутренние
  + Торцевые

Поиск КТЭ осуществляется на основе
[определения разных типов КТЭ](kte.docx).

<details>
<summary>
Схематично
</summary>

1. Определение максимальной и минимальной координаты по длине на основе входных данных

2. Определение наличия отверстия по пересечению поверхностей с X=0. Если координата точка с X=0 по длине не совпадает с максимальной или минимальной координатой по длине, то имеется отверстие с одной стороны. Если обе поверхности с X=0 не совпадают с максимальными и минимальными координатами, то 2 глухих отверстия. Если нет поверхностей с X=0, то имеется сквозное отверстие.

3. Выделить наружный контур по Сторонам, начиная с большего радиуса.

4. Выделить внутренний контур по Сторонам, начиная с меньшего радиуса. Если имеются глухие отверстия, то начать с поверхности, у которой X=0.

5. Определить наружный контур обработки на основе п. 3.

6. Определить внутренний контур обработки на основе п. 4.

7. Определить канавки/выточки для наружной поверхности.

8. Определить канавки/выточки для внутренней поверхности.

9. Определить торцевые канавки (поверхности должны сопрягаться друг с другом и быть в разрыве между 2 торцевыми на одной координате по длине; начальная и конечная поверхность должны иметь хотя бы одну общую координату по длине)

10. Вывести наружный и внутренний контура обработки по сторонам (формат и требуемые данные определяются технологическими алгоритмами)

11. Вывести параметры или контур канавок/выточек (формат и требуемые данные определяются технологическими алгоритмами)
</details>

## Форматы файлов
- .txt: [Входной][txt]
- .xml: [Выходной][xml]

[txt]: input.md
[xml]: RecognitionResultFileFormat.docx

Примеры реальных файлов доступны в
[/data/var](../../data/var/).

## Реализация

Алгоритм реализован в виде
[утилиты командной строки](../cpp/).
