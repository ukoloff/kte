# Формат входного файла распознавания КТЭ

[Пример]

Входной файл для распознавания КТЭ представляет собой
простой текстовый файл,
содержащий три части:

- Общие параметры
- Технологические параметы
- Геометрия контура

Части никак не разделены и следуют друг за другом

## Общие параметры

Состоит из следующих строк:
- Шифр детали
- Материал
- Твёрдость
- Диаметр заготовки, мм
- Длина заготовки, мм
- Порядок обработки:
  + 0: Слева направо
  + 1: Справа налево
- Количество элементов контура (отрезков и дуг окружностей)

## Технологические параметры

Для каждого элемента контура
задаётся одна строка с параметрами
в формате CSV:

1. Признак наличия резьбы:
    + 0: нет
    + 1: есть
1. Шероховатость Ra
1. Зарезервировано
1. Зарезервировано
1. Зарезервировано
1. Зарезервировано
1. Начало резьбы, мм
1. Внешний диаметр резьбы (для внутренней резьбы), мм
1. Глубина резьбы, мм
1. Тип резьбы:
    + 0: Метрическая
    + 1: Дюймовая
    + 2: Трапецеидальная
1. Шаг резьбы, мм
1. Квалитет, буква + число

## Геометрия контура

Геометрия детали
(тела вращения)
представлена в виде замкнутого двумерного контура,
ограничивающего [верхнюю] *половину* сечения детали.
Контур представлен в координатной системе Z-X.
Ось Z соответствует оси вращения.
Контур должен быть замкнутым и не иметь самопересечений.

Каждая строка записи о геометрии имеет вид:
```
G<код>X<число>Z<число>[I<число>K<число>]
```
где код - 0 | 1 | 2 | 3.

+ 0: только для первой строки;
+ 1: отрезок (отрезок будет построен от предыдущей точки до заданной);
+ 2: дуга по часовой стрелке
  (XZ конечная точка,
  IK - вектор из начальной (предыдущей) точки в центр);
+ 3: дуга против часовой стрелки
  (XZ конечная точка,
  IK - вектор из начальной (предыдущей) точки в центр);

Количество строк записей о геометрии всегда превышает количество элементов контура
(количество записей с технологическими параметрами)
на 1.

[Пример]: InputTest_var2-1.txt
